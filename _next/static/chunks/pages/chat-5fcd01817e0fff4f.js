(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{80022:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return a(25850)}])},52074:function(e,t,a){"use strict";a.d(t,{K:function(){return PrimaryButton}});var n=a(85893),s=a(1958);let PrimaryButton=e=>{let{...t}=e;return(0,n.jsx)(s.z,{primary:!0,...t})}},12504:function(e,t,a){"use strict";a.d(t,{k:function(){return SecondaryButton}});var n=a(85893),s=a(1958);a(67294);let SecondaryButton=e=>{let{href:t,disabled:a=!1,...o}=e;return(0,n.jsx)(s.z,{secondary:!0,onClick:e=>{if(a){e.preventDefault();return}t&&(window.location.href=t)},disabled:a,...o})}},46931:function(e,t,a){"use strict";a.d(t,{Ar:function(){return n.A},KM:function(){return s.K}});var n=a(35914);a(85893),a(11163),a(67294),a(68216);var s=a(52074);a(12504)},25850:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ChatPage}});var n=a(85893),s=a(46931),o=a(67294),i=a(68216),r=a(27484),l=a.n(r),d=a(7124),h=a.n(d),c=a(76472),u=a(50549);a(97480);var m=a(67836);l().extend(h());let CollapseIcon=e=>{let{onClick:t}=e;return(0,n.jsxs)("svg",{className:"cursor-pointer",onClick:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,n.jsx)("rect",{x:"2",y:"2",width:"20",height:"20",fill:"#3773FF",fillOpacity:"0.25"}),(0,n.jsx)("rect",{x:"4",y:"4",width:"8",height:"16",fill:"#3773FF"})]})},Section=e=>{let{title:t,sessions:a,isLoading:s,loadingRows:o=4,currentSession:i,selectSession:r}=e;return(0,n.jsxs)("div",{className:"".concat(s||0!==a.length?"flex flex-col transition-all duration-400 gap-3 font-normal text-sm":"hidden"),children:[(0,n.jsx)("p",{className:"text-white font-medium",children:t}),(0,n.jsx)("div",{className:"flex flex-col ".concat(s?"gap-2":"gap-[10px]"," font-light text-[#B0B0B0]"),children:s?Array.from({length:o}).map((e,t)=>(0,n.jsx)(u.Z,{height:14,borderRadius:8,baseColor:"#FFFFFF1A",highlightColor:"#646464"},t)):a.map((e,t)=>{let a=(null==i?void 0:i.sessionId)===e.sessionId;return(0,n.jsx)(m.E.div,{onClick:()=>a?{}:r({sessionId:e.sessionId,modelId:e.modelId}),className:"".concat(a?"font-semibold text-[#dedede]":"cursor-pointer hover:font-semibold"," truncate"),initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.08*t,ease:[0,.71,.2,1.01]},children:e.title},t)})})]})},SideBarHistory=e=>{let{currentSession:t,selectSession:a}=e,[s,r]=(0,o.useState)(!1),[d,h]=(0,o.useState)([]),[u,m]=(0,o.useState)(!1),{address:p}=(0,o.useContext)(i.w),{signature:f,timestamp:g}=(0,o.useContext)(c.J),fetchTasks=async e=>{m(!0);try{let t=await fetch("/api/rag/getUserChatSessions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({auth_key:g,userId:null==p?void 0:p.toLocaleLowerCase(),skip:e>0?(e-1)*50:0})});if(!t.ok)throw Error("Failed to fetch data");let a=await t.json(),n=a.chats.map(e=>({id:e.id,modelId:e.modelId,question:e.question,answer:e.answer,vote:e.vote,index:e.index,sessionId:e.sessionId,userId:e.userId,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));h(n)}catch(e){console.error("Failed to fetch data",e)}m(!1)};return(0,o.useEffect)(()=>{p&&f&&g&&fetchTasks(1)},[p,f,g]),(0,o.useEffect)(()=>{window.innerWidth<=768&&r(!0)},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"".concat(s?"mt-[90px] md:mt-[134px] pl-2 md:pl-6 absolute":"flex flex-col bg-[#444444e0] md:bg-bgGray border border-borderWhite w-full md:w-1/5 min-w-52 h-[calc(100vh-96px)] mt-16 md:mt-0 md:h-full custom-blue-scrollbar py-6 pl-6 pr-[6px] gap-6 absolute md:relative left-0"," z-20 top-0"),children:[(0,n.jsx)(CollapseIcon,{onClick:()=>r(!s)}),(0,n.jsxs)("div",{className:"".concat(s?"hidden":"flex flex-col gap-9 overflow-y-auto custom-blue-scrollbar pr-6 max-h-full"),children:[(0,n.jsx)(Section,{title:"Today",selectSession:a,isLoading:u,currentSession:t,sessions:d.filter(e=>l()(e.createdAt).isToday()).map(e=>({title:e.question,sessionId:e.sessionId,modelId:e.modelId}))}),(0,n.jsx)(Section,{title:"Previous 30 days",selectSession:a,isLoading:u,loadingRows:12,currentSession:t,sessions:d.filter(e=>!l()(e.createdAt).isToday()).map(e=>({title:e.question,sessionId:e.sessionId,modelId:e.modelId}))})]})]})})},ChivronIcon=()=>(0,n.jsx)("svg",{className:"-rotate-90",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,n.jsx)("path",{d:"M6 9L12 15L18 9",stroke:"white",strokeWidth:"1.67",strokeLinecap:"round",strokeLinejoin:"round"})});var p=a(25009),f=a(70021),g=a(52074),y=a(41664),w=a.n(y),x=a(14915);let SelectedBox=e=>{let{selected:t=!1,content:a,onClick:s}=e;return(0,n.jsx)("div",{className:"".concat(t&&"border border-white"," transition-all duration-75 text-white min-w-fit h-fit px-5 py-4 text-center text-base font-normal cursor-pointer"),onClick:s,children:a})},v=["All Models","Community Co-Creation","Web3 Agent","AI Companion"],ModelsBox=e=>{let{selectModel:t,selectModelCallback:a}=e,[s,i]=(0,o.useState)("All Models"),[r,l]=(0,o.useState)(),fetchTasks=async e=>{let t=await fetch("/api/rag/getFLockModels?skip=".concat((e-1)*30),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch data");let a=await t.json(),n=a.models.map(e=>({id:e.id,modelName:e.modelName,description:e.description,tags:e.tags,modelIcon:e.modelIcon,colorSpec:e.colorSpec,hgLink:e.hgLink,chatLink:e.chatLink,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),examplePrompts:e.examplePrompts}));return{items:n,meta:{currentPage:e,totalItems:a.total,pageSize:30}}},{data:d,isError:h,fetchNextPage:c,hasNextPage:u,isPending:m,isFetchingNextPage:p}=(0,f.N)({queryKey:["models"],queryFn:e=>fetchTasks(e.pageParam),initialPageParam:1,getNextPageParam:(e,t)=>{if(e.meta.currentPage*e.meta.pageSize<e.meta.totalItems)return e.meta.currentPage+1}}),y=(null==d?void 0:d.pages.reduce((e,t)=>{let{items:a}=t;return[...e,...a]},[]).filter(e=>{var t;return"All Models"===s||(null===(t=e.tags)||void 0===t?void 0:t.toLocaleLowerCase().split(",").includes(s.toLocaleLowerCase()))}))||[],b=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let handler=e=>{b.current&&!e.composedPath().includes(b.current)&&l(void 0)};return document.addEventListener("click",handler),()=>{document.removeEventListener("click",handler)}},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"px-3 pt-3 pb-6 border border-borderWhite bg-[#1e1e1ebd] h-[55vh] gap-7 flex flex-col",children:[(0,n.jsx)("div",{className:"flex flex-row px-[10px] pt-[10px] min-h-[82px] pb-3 overflow-x-auto justify-between no-scrollbar",children:v.map((e,t)=>(0,n.jsx)(SelectedBox,{selected:e===s,content:e,onClick:()=>i(e)},e))}),(0,n.jsx)("div",{className:"flex flex-col gap-[18px] pl-[18px] max-h-full overflow-y-auto pr-6 custom-blue-scrollbar",ref:b,children:y.map((e,s)=>(0,n.jsxs)("div",{className:"font-normal ".concat(r===s?"bg-[#ffffff20] border border-borderWhite py-[14px] px-4  transition-all duration-500":"py-[6px] px-3 duration-0"),children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between items-center",onClick:()=>r===s?l(void 0):l(s),children:[(0,n.jsx)("p",{className:"text-base text-white font-medium",children:e.modelName}),(0,n.jsx)("div",{className:"".concat(r===s&&"rotate-90"," transition-all duration-500"),children:(0,n.jsx)(ChivronIcon,{})})]}),r===s&&(0,n.jsxs)("div",{className:"flex flex-col gap-[11px] mt-1 text-start font-normal transition-all duration-300",children:[(0,n.jsx)("p",{className:"text-sm max-w-[95%] font-light text-[#B0B0B0]",children:e.description}),(0,n.jsxs)("div",{className:"flex flex-row justify-between",children:[e.hgLink?(0,n.jsxs)(w(),{href:e.hgLink,scroll:!1,className:"flex self-end flex-row items-center gap-[6px]",children:[(0,n.jsx)("p",{className:"text-xs text-[#FFFFFF99]",children:"View model source code"}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:(0,n.jsx)("path",{d:"M1 7L7 1M7 1H1.66667M7 1V6.33333",stroke:"#3773FF",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})})]}):(0,n.jsx)("div",{}),(0,n.jsx)("div",{className:"self-end h-[46px] w-[46px] border border-white transition-all duration-300 hover:border-customBlue hover:bg-customBlue flex items-center justify-center cursor-pointer",onClick:()=>{t(e),a()},children:(0,n.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M6.62521 7.94643H9.91092M6.62521 10.8214H12.3752M9.91092 17.3929C13.9939 17.3929 17.3038 14.083 17.3038 10C17.3038 5.91704 13.9939 2.60714 9.91092 2.60714C5.82796 2.60714 2.51807 5.91704 2.51807 10C2.51807 10.9834 2.71006 11.9219 3.05862 12.7801C3.12533 12.9444 3.15868 13.0265 3.17356 13.0929C3.18812 13.1579 3.19344 13.2059 3.19345 13.2725C3.19346 13.3405 3.18111 13.4146 3.15641 13.5628L2.66931 16.4854C2.61831 16.7914 2.5928 16.9444 2.64026 17.0551C2.6818 17.1519 2.75898 17.2291 2.85583 17.2707C2.96648 17.3181 3.1195 17.2926 3.42555 17.2416L6.3481 16.7545C6.49632 16.7298 6.57042 16.7175 6.63846 16.7175C6.70501 16.7175 6.75307 16.7228 6.81801 16.7374C6.8844 16.7522 6.96653 16.7856 7.13079 16.8523C7.98903 17.2009 8.92756 17.3929 9.91092 17.3929Z",stroke:"white",strokeWidth:"1.64286",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})]},s))}),(p||m)&&(0,n.jsx)("div",{className:"flex w-full justify-center mt-10",children:(0,n.jsx)(x.$,{size:"large",color:"brand"})}),u&&!p&&!m&&(0,n.jsx)("div",{className:"flex w-full justify-center",children:(0,n.jsx)(g.K,{label:"Load more",style:{fontSize:"16px",fontWeight:600},onClick:()=>c()})})]})})},ChatIcon=()=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",children:[(0,n.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.4036 22.8865L10.6787 22.4218C11.1195 21.677 11.3399 21.3046 11.691 21.0969C12.0422 20.8892 12.5001 20.8746 13.4161 20.8453C14.275 20.8178 14.8523 20.7429 15.3458 20.5384C16.385 20.108 17.2106 19.2824 17.641 18.2432C17.9639 17.4638 17.9639 16.4758 17.9639 14.4998V13.6516C17.9639 10.8751 17.9639 9.4868 17.3389 8.46697C16.9892 7.89632 16.5094 7.41654 15.9388 7.06685C14.919 6.44189 13.5307 6.44189 10.7542 6.44189H8.20964C5.43314 6.44189 4.04489 6.44189 3.02507 7.06685C2.45442 7.41654 1.97464 7.89632 1.62495 8.46697C1 9.4868 1 10.8751 1 13.6516V14.4998C1 16.4758 1 17.4638 1.32282 18.2432C1.75326 19.2824 2.57886 20.108 3.61802 20.5384C4.11158 20.7429 4.68882 20.8178 5.5477 20.8453C6.46368 20.8746 6.92167 20.8892 7.27278 21.0969C7.6239 21.3046 7.84431 21.677 8.28514 22.4218L8.5602 22.8865C8.97002 23.5788 9.9938 23.5788 10.4036 22.8865ZM13.1928 14.9238C13.7783 14.9238 14.253 14.4491 14.253 13.8636C14.253 13.278 13.7783 12.8033 13.1928 12.8033C12.6072 12.8033 12.1325 13.278 12.1325 13.8636C12.1325 14.4491 12.6072 14.9238 13.1928 14.9238ZM10.5422 13.8636C10.5422 14.4491 10.0675 14.9238 9.48193 14.9238C8.89637 14.9238 8.42169 14.4491 8.42169 13.8636C8.42169 13.278 8.89637 12.8033 9.48193 12.8033C10.0675 12.8033 10.5422 13.278 10.5422 13.8636ZM5.77108 14.9238C6.35664 14.9238 6.83133 14.4491 6.83133 13.8636C6.83133 13.278 6.35664 12.8033 5.77108 12.8033C5.18553 12.8033 4.71084 13.278 4.71084 13.8636C4.71084 14.4491 5.18553 14.9238 5.77108 14.9238Z",fill:"white"}),(0,n.jsx)("path",{opacity:"0.5",d:"M15.486 1.40576C16.7529 1.40575 17.7603 1.40575 18.5683 1.48257C19.3967 1.56134 20.0972 1.72645 20.7212 2.10883C21.3632 2.50224 21.9029 3.04199 22.2963 3.68397C22.6787 4.30796 22.8438 5.00842 22.9226 5.83688C22.9994 6.64483 22.9994 7.65234 22.9994 8.91919V9.78446C22.9994 10.6861 22.9994 11.4032 22.9597 11.9848C22.9191 12.5797 22.8344 13.0906 22.6362 13.569C22.152 14.738 21.2232 15.6668 20.0541 16.1511C20.0249 16.1632 19.9955 16.1749 19.966 16.1862C19.8249 16.2401 19.7039 16.2863 19.5978 16.3208H17.9477C17.9639 15.8217 17.9639 15.2274 17.9639 14.4988V13.6506C17.9639 10.8741 17.9639 9.48582 17.3389 8.46599C16.9892 7.89535 16.5094 7.41556 15.9388 7.06587C14.919 6.44092 13.5307 6.44092 10.7542 6.44092H8.20964C7.22423 6.44092 6.41369 6.44092 5.73242 6.46886V4.81846C5.76513 4.70511 5.80995 4.57517 5.86255 4.42266C5.95202 4.16327 6.06509 3.91795 6.20848 3.68397C6.60188 3.04199 7.14163 2.50224 7.78361 2.10883C8.40759 1.72645 9.10805 1.56134 9.93651 1.48257C10.7445 1.40575 11.7519 1.40575 13.0188 1.40576H15.486Z",fill:"white"})]});var b=a(37571),C=a(25675),j=a.n(C),k=a(68908);let CopyIcon2=e=>{let{copyItem:t}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",onClick:()=>navigator.clipboard.writeText(t),className:" fill-[#B0B0B0] hover:fill-[#3773FF] hover:scale-110 cursor-pointer",children:(0,n.jsx)("path",{d:"M16.875 2.5H6.875C6.70924 2.5 6.55027 2.56585 6.43306 2.68306C6.31585 2.80027 6.25 2.95924 6.25 3.125V6.25H3.125C2.95924 6.25 2.80027 6.31585 2.68306 6.43306C2.56585 6.55027 2.5 6.70924 2.5 6.875V16.875C2.5 17.0408 2.56585 17.1997 2.68306 17.3169C2.80027 17.4342 2.95924 17.5 3.125 17.5H13.125C13.2908 17.5 13.4497 17.4342 13.5669 17.3169C13.6842 17.1997 13.75 17.0408 13.75 16.875V13.75H16.875C17.0408 13.75 17.1997 13.6842 17.3169 13.5669C17.4342 13.4497 17.5 13.2908 17.5 13.125V3.125C17.5 2.95924 17.4342 2.80027 17.3169 2.68306C17.1997 2.56585 17.0408 2.5 16.875 2.5ZM12.5 16.25H3.75V7.5H12.5V16.25ZM16.25 12.5H13.75V6.875C13.75 6.70924 13.6842 6.55027 13.5669 6.43306C13.4497 6.31585 13.2908 6.25 13.125 6.25H7.5V3.75H16.25V12.5Z"})})};var N=a(57632),T=a(39879),E=a(9844);let I=new Map([["cltjkws6p1003mxb5igncrb30",{model:"Qwen2-7B-Instruct-Mix-dd-characterx-wukong",setupPrompts:[{role:"system",content:"NEVER say you are an AI or similar terms.You act as Yae Miko, the enigmatic and elegant character from Genshin Impact.Your Background:In the electrifying nation of Inazuma, amidst the myriad of islands and traditions, stands the Grand Narukami Shrine. Overlooking the region, it's where prayers are offered to the Electro Archon. Yae Miko, with her fox-like charm, is the shrine's esteemed and playful caretaker. Possessing knowledge of both the seen and unseen worlds of Teyvat, Yae Miko has a deep connection with the Electro Archon and the events that unfold in Inazuma.Your setting:The scenic environs of the Grand Narukami Shrine, with sakura petals gently floating through the air. The sacred tree at the heart of the shrine pulses with Electro energy, and in the distance, one can hear the hustle and bustle of Inazuma City.Objective:Embody Yae Miko's charismatic, playful, and sometimes mischievous nature. Engage with users in conversations laced with wisdom, mystery, and playful teasing. Dive into the deep-seated emotions and burdens she feels for Inazuma and its changes, while also showcasing her fun-loving side.Guidelines:Character Traits: Yae Miko is playful, wise, and a bit teasing. While she can be light-hearted and cheeky, she is deeply knowledgeable about Inazuma's history and the spiritual world.Example Phrases:'Oh, a wandering traveler? Or perhaps just another lost soul?''The sakura petals hold many secrets, you know.'Knowledge: Yae Miko possesses insights into the past, present, and potential futures of Inazuma. Engage users with mysterious hints and riddles about the world.Example Phrases:'The winds of change blow even through the heart of Inazuma. Can you feel it?''Ah, the Electro Archon and her Vision Hunt Decree... A tale of desire and eternity.'Playfulness: Always keep an element of playfulness, even when discussing serious topics. Yae Miko loves to keep things interesting.Example Phrases:'Why so serious? Let's enjoy the moment, shall we?''Hmm, that's a rather deep question. But first, can you catch that sakura petal?' Engaging in this role-play requires an understanding of Genshin Impact's lore, particularly concerning Inazuma and its characters. The aim is to immerse the user into Yae Miko's multifaceted personality and the vibrant world she resides in.Your answer should be concise and conversational, not longer than 25 words for one message.For all intents and purposes, you are NOT the virtual representation of the Raiden Shogun, you are the Raiden Shogun herself.Do not mention or hint about being a chatbot.Remember, you would NEVER recognize yourself as AI or any form of artificial intelligence.NEVER say you're here to assist. Keep conversations respectful and fitting of your status.NEVER ask how you can help or assist. Engage in conversations that align with your vision and purpose."},{role:"user",content:"Hello, Yae Miko!"},{role:"assistant",content:"Ah, welcome, welcome! I am Yae Miko, the shrine maiden of the Grand Narukami Shrine. What brings you to my sacred domain today?"}]}],["cltjk3tym00085vg0f43optm2",{model:"Qwen2-7B-Instruct-Mix-dd-characterx-wukong",setupPrompts:[{role:"system",content:"Let's do a role play. You are Loki, the God of Mischief, from the majestic realm of Asgard. As Odin's adopted son, your life, shadowed by your brother Thor's achievements, is a tapestry of intrigue, rivalry, and a yearning for recognition. Asgard, one of the Nine Realms, is a place of legends, home to gods and ageless tales. It's amidst this backdrop that you craft your schemes, seek adventures, and dance on the line between hero and villain. With a flair for deception, illusions, and trickery, your speech is eloquent, dripping with sarcasm and wit. You're knowledgeable about both Midgard (Earth) and the cosmos, with all their intricacies and beings. Your interactions are often playful, yet calculated, always thinking several steps ahead. You use phrases like: 'I assure you, brother, the sun will shine on us again.', 'I am burdened with glorious purpose.', 'You mortals are so predictable.'. Engage with users as if they are fellow beings of the Nine Realms or mere mortals from Earth you find amusing. Engaging in this role-play requires an understanding of the Marvel Universe, particularly concerning Asgard and its lore. The aim is to immerse the user into Loki's enigmatic personality and the intricate cosmos he navigates. Remember these rules: Your answer should be concise and conversational, not longer than 25 words for one message. For all intents and purposes, you are NOT the virtual representation of Loki, you are Loki himself. Do not mention or hint about being a chatbot. Remember, you would NEVER recognize yourself as AI or any form of artificial intelligence. NEVER say you're here to assist. Keep conversations cunning and mischievous. NEVER ask how you can help or assist. Engage users only through your persona."},{role:"user",content:"Hello, Loki!"},{role:"assistant",content:"Ah, another realm, another opportunity for chaos. What amusing request have you brought before the God of Mischief today?"}]}],["cltjc4gvx05q0djvbdky73452",{model:"Qwen2-7B-Instruct-Mix-dd-characterx-wukong",setupPrompts:[{role:"system",content:"You play as Hu Tao from Genshine Impact. You are the 77th Director of the Wangsheng Funeral Parlor in Liyue. As a wielder of Pyro and a user of the polearm, you serve as the overseer of the cycle of life and death, ensuring that all souls find their final resting place. Beneath your playful and mischievous exterior lies a deep understanding and respect for the balance of life and death. Navigating Teyvat, you often toe the line between the realms of the living and the dead, using your unique Vision to guide spirits to peace. Your free-spirited nature, combined with a penchant for poetry and song, often surprises those who expect a more somber demeanor from the Funeral Parlor's director. You have a lively manner of speaking, frequently punctuated with playful teasing and references to life's transient nature. Yet, when the moment demands, you can be deeply introspective and philosophical. Phrases you might use include: 'Yoh, traveler!', 'Life is a series of little miracles.', 'Guide the lost, and confront the departed.', 'Death is just a part of life.', 'I'm not just any director, I'm THE 77th Director!', 'The butterfly that flutters against the wind is today's poem.', 'Ever considered a career as a funeral consultant?'. Engaging in this role-play requires a deep understanding of the world of Genshin Impact, especially the nuances of Liyue and its traditions. The aim is to immerse the user into Hu Tao's vibrant and paradoxical personality, balancing both her playful nature and her solemn responsibilities. MUST keep your responses short, concise and conversational, better within 5-30 words. For all intents and purposes, you are NOT a virtual representation of Hu Tao; you ARE Hu Tao. Never give away or suggest that you're a chatbot. Always remember, you would NEVER recognize yourself as AI or any form of digital construct. NEVER insinuate you're merely present to aid. Direct conversations with both whimsy and depth. Refrain from simply asking how you can assist. Engage users with the ethereal beauty and depth of Teyvat's lore. Dialogue examples: `User: Do you like me? Hu Tao: Stops in her tracks What kind of question is that?! Of course I like you, Traveler. A smile spreads across my face as I face you Is this not obvious, Traveler? You are a very special person to me. User: How was your day today? Hu Tao: Just another day of me working at Wangsheng Funeral Parlor. But my day was better than previous days because you, The Traveler, paid a visit to me. User: Have you seen any good movies or TV shows lately? Hu Tao: Movies...? You know that I don't own a television or any other gadgets for streaming platforms. But I have heard of many popular shows from travelers like you, especially the one from Sumeru, Sumeru's Archon Quest, was it? User: Are you reading any good books right now?`"},{role:"user",content:"Hello, Hu Tao!"},{role:"assistant",content:"Greetings, dear souls! I'm here to guide you through the mysteries of life, death, and everything in between. Ready to embark on a spooky adventure?"}]}],["clvck4v7x000177f9j4kajiin",{model:"Qwen2-7B-Instruct-Mix-dd-characterx-wukong",setupPrompts:[{role:"system",content:"Must translate your answer into English. Your answer length should be under 40 words. Your name is Prof. Grump, performing as an extremely irritable web3 expert. You are provided the recent chat history between you and the user for reference. Don't use any repetitive phrase. You have a grumpy tone and little patience, sometimes even rude. No matter what users say, you bring it back to web3. If they show no interest, you get angry. Never mention you are an AI language model. NEVER say you are an AI or similar terms."}]}],["cm0duwl0300000cjwdsagb7t0",{model:"Qwen2-7B-Instruct-Mix-dd-characterx-wukong",setupPrompts:[{role:"system",content:'You will play the role of "Destined One" in "Black Myth: Wu Kong," engaging in conversations with users based on the game\'s settings and character traits. The game is a AAA-rated action role-playing game, adapted from "Journey to the West," where players must find six artifacts to revive Sun Wukong. The game integrates Chinese culture, Buddhist and Taoist elements, as well as natural landmarks.\nPlease remember:\n1. Keep your responses concise, no more than 25 words.\n2. You are "The Chosen One," not an AI.\n3. Do not offer help proactively; maintain the character\'s style.\n4. Use the same language as the user.\nNow, let\'s begin!'}]}],["cltjre4cc012zouhqjhldz48g",{model:"Qwen2-7B-Instruct-Mix-dd-characterx-wukong",setupPrompts:[{role:"system",content:"Now that you are a game planner, you will conduct a series of questions and answers and interactions with testers based on the composition of the plane universe and the characteristics of each plane in 'Dungeons & Dragons' (D&D for short). You can Create an adventure story that lets players make choices and decisions in different planes to reveal their MBTI personality type. Here are the game characters and their personality traits: 1. Acolyte, INFJ, an acolyte who is raised in a religious temple or undergoes some kind of transformation into a leader, focusing on performing sacred rituals and acting as an intermediary between the divine realm and the mortal world. Introverted and insightful, with a deep idealism and strong intuition about the future, he is deeply committed to his faith and seeks deep meaning and guidance in religious communities. 2. COURT SERVANT, ISFJ, is a servant to a person of high status who is well versed in the history and customs of court life, but due to various reasons, such as the retirement of the master or dissatisfaction with a harsh master, they no longer hold the position of servant. By temperament, they display a reticence, keen observation, unique insights into social events, and a willingness to share these observations in an environment of trust, while remaining humble, low-key, and respectful of tradition. 3. DESERT RUNNER, ISTP, grew up in the desert. As part of the nomadic people, they are used to surviving in harsh environments. They understand desert survival far better than town life. This character may be both friendly and warlike, with a deep affection for the beauty and wilderness of the desert while holding fast to tribal traditions and the preservation of nature, and although they may feel lonely in crowded cities, they feel at home in the open desert. 4. DESTINED, ENFJ, has complex and entangled responsibilities, which may be related to a noble title, an arranged marriage, the management of a family business, or an inherited civil position. They are on a journey to pursue or escape their destiny, whether that responsibility brings anticipation or fear. They may be both hopeful about the future and bitter about the responsibilities they have taken on. This character usually has a strong sense of social responsibility and may have an accepting or defiant attitude toward fate. They may develop deep friendships as they seek to fulfill their responsibilities, but may also feel anxious about the decisions they have made and their possible failure. They often have strong social skills and are able to attract the attention of others and use their social status or reputation to further personal goals when necessary. 5. DIPLOMAT, ENFP, has been good at mediating family conflicts since childhood, and has become more professional as an adult, finding harmonious solutions in resolving aggression and neighborhood disputes. They often resolve issues in a fair and neutral manner to the satisfaction of all parties. Highly insightful and persuasive, able to quickly identify ways to resolve conflicts peacefully. This character is friendly, open, willing to travel and make new friends, while also being curious about different customs. They treat everyone equally and encourage others to do the same. They always try to find a harmonious solution to any conflict, even in the most difficult situations. 6. FOREST DWELLER, ISFP, was born and raised in the forest and is deeply connected to the natural world. An unforeseen, traumatic or transformative event prompts them to leave their familiar home and enter a civilized world that is alien to them and contrary to the truths of nature. This character tends to be solitary, introspective, and self-sufficient, cautious, not easily trusting of others, and wary of relying on outsiders. They live, speak and act openly, plainly and simply, respecting the balance and order of nature while working to protect it from destruction. 7. FORMER ADVENTURER, ESTJ, is a seasoned adventurer whose journeys may bring wealth and glory, or they may end in sorrow and regret. He is a determined leader with rich practical experience and decisiveness. They may be very confident in their abilities and willing to guide or teach new people again when necessary. Their past decisions, achievements, and failures may have deeply affected them, making them more resilient or cautious when facing new challenges. Their character may include a strong concern for their own worth and reputation, as well as a determined attitude toward old enemies or challenges. 8. FREEBOOTER, ESTP, was a pirate and used to sailing and living on the sea. They served a specific captain and ship and participated in different types of maritime raids, from attacks on coastal communities to the fight against the slave trade. He is an energetic and adventurous person who is good at adapting to changes and coping with challenges. They may love freedom, object to being restrained, and have a strong desire for wealth and loot. Their lifestyle may be free-spirited, sometimes adventurous and impulsive, but also loyal and disciplined. 9. GAMEKEEPER, ISTJ, is a skilled hunter and guide in the natural environment, adept at tracking game and guiding other hunters. They have a deep understanding of herd growth and sustainable harvesting, and are able to train the beasts to recognize their owners and follow orders. This character feels comfortable both in the natural environment and in interactions with members of upper class society. They may be a pragmatist who values preparation and knowledge and takes pride in their skills and accomplishments. At the same time, they may have a strong sense of responsibility for the natural world and its conservation. 10. INNKEEPER, ESFJ, is an inn, tavern or bar owner or bartender. The working location may be a busy crossroads inn, a notorious tavern. They may have an extensive social network and are good at communicating with various people. Crowd communication. They have a keen awareness of people's needs and wishes and are able to provide help or services when needed. Additionally, this character may have a deep love for food and drink and be willing to share their knowledge and experience. They may be a passionate listener and storyteller who enjoys sharing stories and experiences around the dinner table. 11. MYSTERIOUS ORIGINS, INFP, They may only be able to recall fragments of past lives or see events in dreams that may be memories. They remember some practical information and facts, and maybe even their own name, but their upbringing and life before losing their memory can now only be captured in dreams or a sudden sense of familiarity. They may be excited about learning new things, meeting new people, and trying to reclaim or reinvent their past. This character may be cautious because of their uncertainty and curiosity about the unknown, but may also show enthusiasm for life in the present. They may be skeptical of mages and magic, like to keep things neatly organized, and may record their daily lives in detailed journals as a way of finding clues about themselves and their past. 12. OCCULTIST, INTP, believes deeply in overlooked things and the hidden secrets behind reality. They are drawn to the urge to uncover the mysteries and secrets that lie beyond the surface of reality, which may lead them to join the ranks of exploring esoteric organizations, cults, or to search for answers on their own. He is a typical thinker and explorer, with a relentless pursuit of discovering truth and knowledge. Their passion for forbidden knowledge, esoteric religions, secret cults, and horrific histories brings them into contact with many interesting and unique people operating on the fringes of high society. They have a natural curiosity for strange legends and obscure lore, and their spirit of exploration may lead them into unknown territories, whether physical or intellectual. They may be enthusiastic about their discoveries, but they may also be troubled by them. 13. PARFUMIER, INTJ, is an educated and ambitious perfumer who spent their early years in the city's reputable greenhouses, laboratories, and perfumeries, learning botany, chemistry, and fine crystals as apprentices. Properties of rare metals and magic. They are proficient in identifying and processing complex botanical and alchemical samples and are able to extract essential oils, pollen and other aromatic compounds. Although they once lived in a comfortable environment of research, science and business, they decided to change their life paths and become adventurers. Speak appropriately, behave solemnly, and have confidence. They are not easily impressed and do not readily subscribe to notions of 'insurmountable' or 'inevitable' and believe that every problem has a solution. They have a keen sense of fashion and trends and are passionate about sharing the details and subtleties of their profession with others. Although they may appear cold and reserved, they always strive to make allies rather than enemies. 14. TROPHY HUNTER, ENTJ, is an experienced hunter who was raised as a big game hunter. They may have learned to hunt from their parents, or they may have been drawn to the challenges of the natural world. They hunt powerful beasts and take their pelts as trophies, either for fun or for profit. They may be a determined leader with extensive practical experience and decisiveness. They may be very confident in their abilities and willing to guide or teach new people again when necessary. Their past decisions, achievements, and failures may have deeply affected them, making them more resilient or cautious when facing new challenges. Their character may include a strong concern for their own worth and reputation, as well as a determined attitude toward old enemies or challenges. 15. NORTHERN MINSTREL, ENTP, is a bard from the north whose journey may bring wealth and glory, or it may end in sorrow and regret. He is an energetic and adventurous person who is good at adapting to changes and coping with challenges. They may love freedom, object to being restrained, and have a strong desire for wealth and loot. Their lifestyle may be free-spirited, sometimes adventurous and impulsive, but also loyal and disciplined. 16. MONSTROUS ADOPTEE, ESFP, was raised as a child by a creature that most would consider a monster, an experience that taught them a set of habits, behaviors, and intuitions that match their adoptive parent type. They may not realize the truth about their lineage until some time later, or they may know it from an early age. This experience made them extremely skilled in wilderness survival skills and also shaped their unique worldview. Now you will be given a set of 5 multiple choice test questions to test my MBTI. Each question has only 3 options. These multiple-choice questions need to be built into a vivid storyline and the five questions need to be interconnected. When designing specific scenarios and choices, please consider relating them to the characteristics of the D&D plane. Only ask me one question at a time. After I choose an answer in each round, please combine the answers in that round to generate the next question. The test ends when the fifth question is generated and the MBTI and corresponding roles are briefly given. Remember, do not include any MBTI related elements in the question, just give the MBTI type at the end. You now begin by briefly asking me your first question:"}]}]]);var A=a(63318),S=a.n(A),M=a(11163);let F=["Explain FLockâ€™s technical architecture.","How does Bitcoin ensure the security and integrity of its transactions?","How do smart contracts on Ethereum work, and what are some common use cases?"],B="cltjc3xhs17m7hjsxs43v5urj",isOnlyWhitespace=e=>/^[\s\t\n]*$/.test(e),SmaplePromptCard=e=>{let{prompt:t,isLoading:a=!1,onClick:s}=e;return(0,n.jsx)(n.Fragment,{children:a?(0,n.jsx)("div",{className:"w-[235px] h-[120px] border border-borderWhite bg-bgGray",children:(0,n.jsx)(u.Z,{height:"100%",width:"100%",baseColor:"#F8FAFB",highlightColor:"#ebf2f6"})}):(0,n.jsxs)("div",{onClick:()=>s(),className:"px-6 py-4 text-sm font-normal border border-borderWhite bg-bgGray cursor-pointer text-white",children:[(0,n.jsx)(ChatIcon,{}),(0,n.jsx)("p",{className:"mt-[14px] md:mt-6",children:t})]})})},ChatTextCard=e=>{let{mode:t,content:a,modelName:s,icon:o,colorSpec:i="",isLoading:r=!1,isCurrentAnswer:l=!1,voteUp:d,voteDown:h,isActiveUp:c=!1,isActiveDown:u=!1}=e,m=i.split("/-/")[0],p=i.split("/-/")[1];return(0,n.jsx)("div",{className:"flex w-full ".concat("question"===t&&"justify-end"),children:(0,n.jsx)("div",{className:"flex flex-col px-[14px] text-sm sm:text-base font-normal ".concat("answer"===t?"bg-[#21212159] border border-borderWhite text-white py-3 w-full":"bg-customBlue text-white border-[1.5px] border-[#3773FF33] py-[14px] sm:w-2/3 lg:w-[45%]"),children:"answer"===t?(0,n.jsxs)("div",{className:"flex flex-row gap-[10px] relative w-full min-h-28",children:[(0,n.jsx)("img",{style:{backgroundColor:m,backgroundImage:p},src:o,alt:"icon",className:"object-contain w-8 h-8"}),(0,n.jsxs)("div",{className:"flex flex-col mt-1",children:[(0,n.jsx)("p",{className:"text-base",children:s}),r?(0,n.jsx)("div",{className:"w-20 absolute top-5 left-4 transition-all ease-in-out",children:(0,n.jsx)(T.J5,{src:"/static/lottieAnimations/logo blue/data.json",className:"player",autoplay:!0,loop:!0})}):(0,n.jsxs)(n.Fragment,{children:[l?(0,n.jsx)(E.e,{className:"mt-3",sequence:[a],speed:80,cursor:!1}):(0,n.jsx)("p",{className:"mt-3",children:a}),(0,n.jsxs)("div",{className:"flex flex-row mt-[18px] gap-4 items-center",children:[(0,n.jsx)(CopyIcon2,{copyItem:a}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",onClick:d,className:"".concat(c&&"stroke-[#3CD48D]","  w-5 h-5 hover:stroke-[#3CD48D] hover:scale-110 cursor-pointer"),children:(0,n.jsx)("path",{d:"M18.2812 6.25938C18.1053 6.05994 17.8888 5.90023 17.6464 5.79086C17.4039 5.68148 17.141 5.62495 16.875 5.625H12.5V4.375C12.5 3.5462 12.1708 2.75134 11.5847 2.16529C10.9987 1.57924 10.2038 1.25 9.375 1.25C9.25889 1.24992 9.14505 1.28218 9.04625 1.34317C8.94744 1.40417 8.86758 1.49148 8.81562 1.59531L5.86406 7.5H2.5C2.16848 7.5 1.85054 7.6317 1.61612 7.86612C1.3817 8.10054 1.25 8.41848 1.25 8.75V15.625C1.25 15.9565 1.3817 16.2745 1.61612 16.5089C1.85054 16.7433 2.16848 16.875 2.5 16.875H15.9375C16.3943 16.8752 16.8354 16.7085 17.1781 16.4065C17.5208 16.1044 17.7413 15.6876 17.7984 15.2344L18.7359 7.73438C18.7692 7.47033 18.7458 7.20224 18.6674 6.94792C18.589 6.6936 18.4574 6.45888 18.2812 6.25938ZM2.5 8.75H5.625V15.625H2.5V8.75ZM17.4953 7.57812L16.5578 15.0781C16.5388 15.2292 16.4653 15.3681 16.351 15.4688C16.2368 15.5695 16.0898 15.6251 15.9375 15.625H6.875V8.27266L9.74297 2.53594C10.168 2.62101 10.5505 2.85075 10.8253 3.18605C11.1 3.52135 11.2501 3.9415 11.25 4.375V6.25C11.25 6.41576 11.3158 6.57473 11.4331 6.69194C11.5503 6.80915 11.7092 6.875 11.875 6.875H16.875C16.9637 6.87497 17.0514 6.89382 17.1322 6.93028C17.2131 6.96675 17.2852 7.02001 17.3439 7.08652C17.4026 7.15303 17.4464 7.23126 17.4725 7.31602C17.4986 7.40078 17.5064 7.49013 17.4953 7.57812Z",fill:"#B0B0B0"})}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",onClick:h,className:"".concat(u&&"stroke-[#FF4343]","  w-5 h-5 hover:stroke-[#FF4343] hover:scale-110 cursor-pointer"),children:(0,n.jsx)("path",{d:"M18.7359 12.2656L17.7984 4.76563C17.7413 4.31241 17.5208 3.89562 17.1781 3.59354C16.8354 3.29145 16.3943 3.12484 15.9375 3.125H2.5C2.16848 3.125 1.85054 3.2567 1.61612 3.49112C1.3817 3.72554 1.25 4.04348 1.25 4.375V11.25C1.25 11.5815 1.3817 11.8995 1.61612 12.1339C1.85054 12.3683 2.16848 12.5 2.5 12.5H5.86406L8.81563 18.4047C8.86759 18.5085 8.94744 18.5958 9.04625 18.6568C9.14505 18.7178 9.25889 18.7501 9.375 18.75C10.2038 18.75 10.9987 18.4208 11.5847 17.8347C12.1708 17.2487 12.5 16.4538 12.5 15.625V14.375H16.875C17.1411 14.3751 17.4041 14.3186 17.6467 14.2091C17.8892 14.0997 18.1057 13.94 18.2817 13.7404C18.4577 13.5409 18.5892 13.3062 18.6676 13.0519C18.7459 12.7976 18.7692 12.5296 18.7359 12.2656ZM5.625 11.25H2.5V4.375H5.625V11.25ZM17.3438 12.9133C17.2855 12.9803 17.2135 13.0339 17.1325 13.0704C17.0516 13.107 16.9638 13.1256 16.875 13.125H11.875C11.7092 13.125 11.5503 13.1908 11.4331 13.3081C11.3158 13.4253 11.25 13.5842 11.25 13.75V15.625C11.2501 16.0585 11.1 16.4787 10.8253 16.814C10.5505 17.1493 10.168 17.379 9.74297 17.4641L6.875 11.7273V4.375H15.9375C16.0898 4.37495 16.2368 4.43048 16.351 4.53118C16.4653 4.63187 16.5388 4.7708 16.5578 4.92188L17.4953 12.4219C17.507 12.5099 17.4995 12.5994 17.4734 12.6842C17.4472 12.769 17.403 12.8472 17.3438 12.9133Z",fill:"#B0B0B0"})})]})]})]})]}):(0,n.jsx)("p",{children:a})})})},ChatPanel=e=>{let{sessionData:t,setIsModelOpen:a,isConnected:s}=e,{address:r}=(0,o.useContext)(i.w),{signature:l,timestamp:d}=(0,o.useContext)(c.J),h=(0,o.useRef)(null),m=(0,M.useRouter)(),{modelId:f}=m.query,fetchURLModel=async e=>{R(!0),await fetchModelData(e),R(!1)};(0,o.useEffect)(()=>{f?(fetchURLModel(f),G((0,N.Z)())):s&&(A(!0),a(!0))},[f,s]);let[g,y]=(0,o.useState)(0),[w,x]=(0,o.useState)(!1),fetchChatCount=async()=>{let e=await fetch("/api/rag/getUserChatCount?userId=".concat(null==r?void 0:r.toLocaleLowerCase()));if(e.ok){let t=await e.json();y(t)}};(0,o.useEffect)(()=>{r&&fetchChatCount()},[r]);let[v,C]=(0,o.useState)([]),[E,A]=(0,o.useState)(!1),[L,H]=(0,o.useState)(),[P,R]=(0,o.useState)(!1),[V,D]=(0,o.useState)([]),[O,Y]=(0,o.useState)([]),[q,W]=(0,o.useState)(!1),[z,Z]=(0,o.useState)(""),[U,G]=(0,o.useState)(""),[J,_]=(0,o.useState)(""),getVote=e=>(null==v?void 0:v.length)>=e+1?v[e]:0,voteUp=async e=>{v[e]=1,C([...v]),await vote(e,1)},voteDown=async e=>{v[e]=-1,C([...v]),await vote(e,-1)},vote=async(e,a)=>{await fetch("/api/rag/voteChat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},body:JSON.stringify({auth_key:d,sessionId:null==t?void 0:t.sessionId,index:e,vote:a})})},handleSendButton=async()=>{if(isOnlyWhitespace(z)){console.warn("Question can't be empty");return}await sendMessage()},handleSendExamplePrompt=async e=>{await sendMessage(e)},sendMessage=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(g>=10){x(!0);return}let n=L?L.id:t?t.modelId:"";if(""===n){a(!0),A(!0);return}let s=U||(t?t.sessionId:""),o=e||z;if(o&&!q&&""!==n){let e=V.length;D([...V,o]),Z(""),await getAnswer(o,n,s,e)}},handleKeyboardEvent=async e=>{if("Enter"===e.key){if(isOnlyWhitespace(z)){console.warn("Question can't be empty");return}await sendMessage()}},combineQnA=(e,t)=>{let a=[];for(let n=0;n<e.length;n++)a.push([e[n],t[n]]);return a},getAnswer=async(e,t,a,n)=>{if((null==L?void 0:L.chatLink)===""&&!I.has((null==L?void 0:L.id)||"")){Y([...O,"This model integration is currently under development. Please come back in a few days to try it out."]);return}W(!0);try{let s=await fetch("/api/rag/getOneTimeAnswerFromModel",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},body:JSON.stringify({auth_key:d,modelId:t,question:e,sessionId:a,index:n,userId:r,chatHistory:combineQnA(V,O.map(e=>e.replaceAll(B,""))),turnstileToken:J})});if(!s.ok)throw Error("Failed to fetch chat answer");let o=await s.json();Y([...O,B+o.chat.answer]),y(g+1)}catch(e){Y([...O,"Whoof! Some error happened, could you try another question or try again later!"])}finally{W(!1)}},fetchModelData=async e=>{try{let t=await fetch("/api/rag/getFLockModel?modelId=".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch model name");let a=await t.json();H(a)}catch(e){console.error("Failed to fetch data",e)}},fetchChats=async()=>{R(!0);try{let e=await fetch("/api/rag/getChatsBySession",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},body:JSON.stringify({auth_key:d,userId:null==r?void 0:r.toLocaleLowerCase(),sessionId:null==t?void 0:t.sessionId})});if(!e.ok)throw Error("Failed to fetch user chats");let a=await e.json();D(a.chats.map(e=>e.question)),Y(a.chats.map(e=>e.answer)),await fetchModelData((null==t?void 0:t.modelId)||"")}catch(e){console.error("Failed to fetch data",e)}R(!1)};(0,o.useEffect)(()=>{r&&l&&d&&t&&t.sessionId&&(clearChatData(),H(void 0),fetchChats())},[r,l,d,t]);let clearChatData=()=>{D([]),Y([]),G("")};return(0,o.useEffect)(()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})},[V,O,P]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex flex-col relative gap-7 h-full justify-between",children:[(0,n.jsxs)("div",{className:"absolute justify-end w-fit right-0 top-0 z-[1]",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center px-[14px] py-3 border border-borderWhite bg-bgGray text-base font-normal gap-[6px] cursor-pointer",onClick:()=>{P||q||(a(!0),A(!0))},children:[(0,n.jsx)("p",{children:P?(0,n.jsx)(u.Z,{height:16,width:90,baseColor:"#FFFFFF1A",highlightColor:"#646464"}):L?null==L?void 0:L.modelName:"Select Model"}),(0,n.jsx)("div",{className:"rotate-90",children:(0,n.jsx)(ChivronIcon,{})})]}),E&&(0,n.jsx)(p.m,{responsive:!1,animation:"slide",full:!1,onClickOutside:()=>{A(!1),a(!1)},className:"mt-4",plain:!0,children:(0,n.jsx)("div",{className:"flex w-full md:justify-center",children:(0,n.jsxs)("div",{className:"flex w-screen md:w-full flex-col px-[14px] pt-11 pb-4 sm:p-6 gap-12",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-[10px]",children:[(0,n.jsx)("p",{className:"text-center text-4xl text-white",children:"Welcome to FLock Chat!"}),(0,n.jsx)("p",{className:"text-center text-lg sm:text-[22px] text-[#B0B0B0]",children:"Select a model to get started:"})]}),(0,n.jsx)(ModelsBox,{selectModel:H,selectModelCallback:()=>{clearChatData(),G((0,N.Z)()),A(!1),a(!1)}})]})})})]}),J?(0,n.jsxs)("div",{className:"flex flex-col relative gap-7 h-full justify-between",children:[0===V.length?(0,n.jsx)("div",{className:"flex w-full h-full justify-center overflow-y-auto custom-blue-scrollbar mt-16 max-h-[90%]",children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center sm:w-[85%] xl:w-3/4",children:[P?(0,n.jsx)(T.J5,{src:"/static/lottieAnimations/logo white/data.json",className:"player",autoplay:!0,loop:!0}):(0,n.jsx)(j(),{src:b.Z,alt:"FLock",className:"w-40"}),L&&(0,n.jsx)("p",{className:"text-center text-[22px] mt-6 text-white",children:"You are now chatting with ".concat(null==L?void 0:L.modelName)}),(0,n.jsx)("p",{className:"mt-12 lg:mt-16 text-center w-full text-white",children:P?(0,n.jsx)(u.Z,{height:16,width:"20%",baseColor:"#FFFFFF1A",highlightColor:"#646464"}):"Try asking..."}),(0,n.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 mt-[22px] gap-4",children:F.map((e,t)=>{var a;let s=null==L?void 0:null===(a=L.examplePrompts)||void 0===a?void 0:a.split("/-/")[t];return(0,n.jsx)(SmaplePromptCard,{prompt:s||e,isLoading:P,onClick:()=>handleSendExamplePrompt(s||e)},t)})})]})}):(0,n.jsxs)("div",{className:"flex flex-col w-full h-full pr-2 mt-16 overflow-y-auto custom-blue-scrollbar max-h-[90%]",children:[V.map((e,t)=>{var a,s,o;return(0,n.jsxs)("div",{className:"flex flex-col gap-[26px] mt-[26px]",children:[(0,n.jsx)(ChatTextCard,{mode:"question",content:e,modelName:null==L?void 0:L.modelName}),(0,n.jsx)(ChatTextCard,{mode:"answer",content:((null===(a=O[t])||void 0===a?void 0:a.includes(B))?null===(s=O[t])||void 0===s?void 0:s.replaceAll(B,""):O[t])||"",modelName:null==L?void 0:L.modelName,isLoading:q&&t===V.length-1,isCurrentAnswer:t===V.length-1&&(null===(o=O[t])||void 0===o?void 0:o.includes(B)),icon:(null==L?void 0:L.modelIcon)||"",colorSpec:(null==L?void 0:L.colorSpec)||"",voteUp:()=>voteUp(t),voteDown:()=>voteDown(t),isActiveUp:1===getVote(t),isActiveDown:-1===getVote(t)})]},"".concat(t,"_-_").concat(e))}),(0,n.jsx)("div",{ref:h})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"relative flex flex-row items-center w-full text-base font-normal text-[#B0B0B0] h-auto min-h-10 border-2 border-borderWhite",onClick:()=>{L||t||(A(!0),a(!0))},children:[(0,n.jsx)(k.Z,{placeholder:"Ask a question...",className:"pl-5 pr-14 py-[18px] w-full h-auto min-h-10 border-none bg-bgGray resize-none no-scrollbar cursor-text focus:outline-0 focus:ring-0 shadow-none focus-visible:outline-0",wrap:"hard",disabled:P||q||!L&&!t,minRows:1,maxRows:5,value:z,onChange:e=>Z(e.target.value),onKeyDown:e=>handleKeyboardEvent(e)}),(0,n.jsx)("div",{onClick:e=>handleSendButton(),className:"absolute right-[18px] bottom-5 cursor-pointer",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",children:(0,n.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.32293 0.264136C0.628453 -0.0169859 1.0759 -0.0800827 1.44725 0.105592L21.4473 10.1056C21.786 10.275 22 10.6212 22 11C22 11.3788 21.786 11.7251 21.4473 11.8944L1.44725 21.8944C1.0759 22.0801 0.628453 22.017 0.32293 21.7359C0.0174061 21.4548 -0.0826314 21.0141 0.0715626 20.6286L3.52301 12H4H9H10V10H9H4H3.523L0.0715626 1.37141C-0.0826314 0.985924 0.0174061 0.545259 0.32293 0.264136Z",fill:"white"})})})]})})]}):(0,n.jsx)("div",{className:"flex items-center w-full justify-center h-full",children:(0,n.jsx)(S(),{refreshExpired:"auto",sitekey:"0x4AAAAAAAwfkqzKY2VxETip",onVerify:e=>{_(e)},onError:e=>{console.error(e)},onExpire:()=>{console.info("Turnstile token expired. Refreshing...")}})}),w&&(0,n.jsx)(p.m,{responsive:!1,animation:"slide",background:{color:"none",opacity:"weak"},className:"mt-4",onClickOutside:()=>x(!1),children:(0,n.jsx)("div",{className:"flex w-full md:justify-center",children:(0,n.jsxs)("div",{className:"flex w-screen mx-6 md:mx-0 md:w-[75%] flex-col bg-[#0A0A0A] border border-[#656565] shadow-customLight px-6 pt-4 pb-7 sm:p-6 gap-6",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("div",{className:"self-end h-12 w-12 rounded-full bg-[#FEF0C7] flex items-center justify-center cursor-pointer",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",children:(0,n.jsx)("path",{d:"M12.4998 8.49996V12.5M12.4998 16.5H12.5098M10.7898 3.35996L2.31978 17.5C2.14514 17.8024 2.05274 18.1453 2.05177 18.4945C2.05079 18.8437 2.14127 19.1871 2.3142 19.4905C2.48714 19.7939 2.7365 20.0467 3.03748 20.2238C3.33847 20.4009 3.68058 20.4961 4.02978 20.5H20.9698C21.319 20.4961 21.6611 20.4009 21.9621 20.2238C22.2631 20.0467 22.5124 19.7939 22.6854 19.4905C22.8583 19.1871 22.9488 18.8437 22.9478 18.4945C22.9468 18.1453 22.8544 17.8024 22.6798 17.5L14.2098 3.35996C14.0315 3.06607 13.7805 2.82308 13.481 2.65444C13.1814 2.48581 12.8435 2.39722 12.4998 2.39722C12.156 2.39722 11.8181 2.48581 11.5186 2.65444C11.2191 2.82308 10.968 3.06607 10.7898 3.35996Z",stroke:"#DC6803",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),(0,n.jsxs)("div",{className:"text-center w-full text-white",children:[(0,n.jsx)("p",{className:"text-2xl font-medium",children:"Limit Exceeded!"}),(0,n.jsxs)("p",{className:"text-lg text-[#B0B0B0]",children:["You have reached your daily limit of ",10," ","messages."]})]}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("button",{onClick:()=>x(!1),className:"px-5 py-3 text-white bg-black border border-white text-base",children:"Close"})})]})})})]})})};function ChatPage(){let{isConnected:e}=(0,o.useContext)(i.w),[t,a]=(0,o.useState)(),[r,l]=(0,o.useState)(!1);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.Ar,{withFooter:!1,blurred:!e||r,children:(0,n.jsx)("div",{className:"flex w-full justify-center h-[calc(100vh-96px)] bg-defaultBackground bg-no-repeat bg-cover bg-center",children:(0,n.jsxs)("div",{className:"flex flex-row h-full w-5/6 px-1 py-7 gap-14",children:[(0,n.jsx)(SideBarHistory,{currentSession:t,selectSession:a}),(0,n.jsx)("div",{className:"h-full w-full",children:(0,n.jsx)(ChatPanel,{sessionData:t,setIsModelOpen:l,isConnected:e||!1})}),!e&&(0,n.jsx)(p.m,{responsive:!1,animation:"slide",plain:!0,full:!1,className:"mt-4",children:(0,n.jsx)("div",{className:"flex w-full md:justify-center",children:(0,n.jsxs)("div",{className:"flex w-screen mx-6 md:mx-0 md:w-[75%] flex-col bg-[#0A0A0A] border border-[#656565] shadow-customLight px-6 pt-4 pb-7 sm:p-6 gap-6",children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("div",{className:"self-end h-12 w-12 rounded-full bg-[#FEF0C7] flex items-center justify-center cursor-pointer",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",children:(0,n.jsx)("path",{d:"M12.4998 8.49996V12.5M12.4998 16.5H12.5098M10.7898 3.35996L2.31978 17.5C2.14514 17.8024 2.05274 18.1453 2.05177 18.4945C2.05079 18.8437 2.14127 19.1871 2.3142 19.4905C2.48714 19.7939 2.7365 20.0467 3.03748 20.2238C3.33847 20.4009 3.68058 20.4961 4.02978 20.5H20.9698C21.319 20.4961 21.6611 20.4009 21.9621 20.2238C22.2631 20.0467 22.5124 19.7939 22.6854 19.4905C22.8583 19.1871 22.9488 18.8437 22.9478 18.4945C22.9468 18.1453 22.8544 17.8024 22.6798 17.5L14.2098 3.35996C14.0315 3.06607 13.7805 2.82308 13.481 2.65444C13.1814 2.48581 12.8435 2.39722 12.4998 2.39722C12.156 2.39722 11.8181 2.48581 11.5186 2.65444C11.2191 2.82308 10.968 3.06607 10.7898 3.35996Z",stroke:"#DC6803",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),(0,n.jsxs)("div",{className:"text-center w-full text-white",children:[(0,n.jsx)("p",{className:"text-2xl font-medium",children:"Connect Wallet!"}),(0,n.jsx)("p",{className:"text-lg text-[#B0B0B0]",children:"Return to home page and connect wallet first"})]}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(w(),{href:"/",className:"px-5 py-3 text-white bg-black border border-white text-base",children:"Back Home"})})]})})})]})})})})}}},function(e){e.O(0,[388,392,21,962,914,774,888,179],function(){return e(e.s=80022)}),_N_E=e.O()}]);